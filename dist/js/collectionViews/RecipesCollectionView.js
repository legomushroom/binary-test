(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("collectionViews/RecipesCollectionView",["collectionViews/ProtoCollectionView","views/RecipeView"],function(e,n){var r,i;return r=function(e){function r(){return i=r.__super__.constructor.apply(this,arguments),i}return t(r,e),r.prototype.itemView=n,r.prototype.template="#recipes-collection-template",r.prototype.initialize=function(e){var t=this;return this.o=e!=null?e:{},this.o.isAnimate=!0,r.__super__.initialize.apply(this,arguments),this.listenToScroll(),this.collection.on("afterFetch",function(){return t.lock=!1}),this},r.prototype.appendHtml=function(e,t,n){return t.model.get("isNew")?e.$el.prepend(t.el):e.$el.append(t.el),this},r.prototype.listenToScroll=function(){var e=this;return console.log("listen"),App.$window.on("scroll",function(){if(App.$window.scrollTop()+App.$window.outerHeight()>=e.$el.position().top+e.$el.height())return!e.lock&&e.collection.nextPage(),e.lock=!0})},r}(e),r})}).call(this);